{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2025-11-02T12:00:00+07:00",
    "name": "XMPanels WhatsApp Bot",
    "author": "Galihs2 | Modified by XMPanels",
    "description": "XMPanels Pterodactyl egg untuk menjalankan WhatsApp Bot dengan Nodejs. Sudah terinstall ffmpeg, imagemagick, pm2, dan kebutuhan bot lainnya. Dilengkapi dengan tampilan console XMPanels yang menarik.",
    "features": null,
    "docker_images": {
        "Stable (Recommended)": "ghcr.io/mydapitt/node:stable",
        "Nodejs 21": "docker.io/dapitt00/node:21",
        "Nodejs 20": "docker.io/dapitt00/node:20",
        "Node 20 (Ubuntu)": "docker.io/dapitt00/node:20-ubuntu",
        "Nodejs 19": "docker.io/dapitt00/node:19",
        "Nodejs 18": "docker.io/dapitt00/node:18",
        "Nodejs 18 (Slim)": "docker.io/dapitt00/node:18-slim",
        "Nodejs 18 (Ubuntu)": "docker.io/dapitt00/node:18-ubuntu",
        "Nodejs 17": "docker.io/dapitt00/node:17",
        "Nodejs 16": "docker.io/dapitt00/node:16",
        "Nodejs 14": "docker.io/dapitt00/node:14",
        "Nodejs 12": "docker.io/dapitt00/node:12" 
    },
    "file_denylist": [],
    "startup": "if [ -f /home/container/.config/neofetch/config.conf ]; then neofetch --config /home/container/.config/neofetch/config.conf; else neofetch; fi && {{STARTUP_CMD}}",
    "config": {
        "files": "{\r\n    \"config.conf\": {\r\n        \"parser\": \"file\",\r\n        \"find\": {\r\n            \"startup_cmd_placeholder\": \"{{server.build.env.STARTUP_CMD}}\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \"XMPanels Private Server\"\r\n}",
        "logs": "{}",
        "stop": "^^C"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\r\n# XMPanels NodeJS App Installation Script\r\n# Server Files: /mnt/server\r\n\r\nRED='\\033[0;31m'\r\nGREEN='\\033[0;32m'\r\nYELLOW='\\033[1;33m'\r\nBLUE='\\033[0;34m'\r\nCYAN='\\033[0;36m'\r\nNC='\\033[0m'\r\n\r\necho -e \"${CYAN}\"\r\necho \"â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\"\r\necho \"â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•\"\r\necho \" â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\"\r\necho \" â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â•šâ•â•â•â•â–ˆâ–ˆâ•‘\"\r\necho \"â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘\"\r\necho \"â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•     â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•\"\r\necho -e \"${NC}\"\r\necho -e \"${GREEN}        Pterodactyl Egg Installation - Powered by XM4ZE${NC}\"\r\necho -e \"${BLUE}================================================================${NC}\"\r\necho \"\"\r\n\r\n# Update and install dependencies\r\necho -e \"${YELLOW}[1/7] Installing system dependencies...${NC}\"\r\napt update -qq\r\napt install -y -qq git curl jq file unzip make gcc g++ python3 python3-dev libtool neofetch > /dev/null 2>&1\r\necho -e \"${GREEN}âœ“ System dependencies installed${NC}\"\r\n\r\n# Install npm latest\r\necho -e \"${YELLOW}[2/7] Updating npm to latest version...${NC}\"\r\nnpm install npm@latest -g > /dev/null 2>&1\r\necho -e \"${GREEN}âœ“ NPM updated successfully${NC}\"\r\n\r\n# Create server directory\r\nmkdir -p /mnt/server\r\ncd /mnt/server\r\n\r\n# Setup XMPanels Neofetch Config\r\necho -e \"${YELLOW}[3/7] Installing XMPanels console theme...${NC}\"\r\nmkdir -p /mnt/server/.config/neofetch\r\n\r\n# Download config from GitHub with error handling\r\nCONFIG_URL=\"https://raw.githubusercontent.com/Galihs2/ptero-egg/master/config.conf\"\r\necho -e \"${BLUE}   Downloading from: ${CONFIG_URL}${NC}\"\r\n\r\nif curl -fsSL \"${CONFIG_URL}\" -o /mnt/server/.config/neofetch/config.conf; then\r\n    echo -e \"${GREEN}âœ“ XMPanels console theme downloaded successfully${NC}\"\r\n    echo -e \"${BLUE}   Config saved to: /mnt/server/.config/neofetch/config.conf${NC}\"\r\n    \r\n    # Verify file exists and has content\r\n    if [ -s /mnt/server/.config/neofetch/config.conf ]; then\r\n        FILE_SIZE=$(wc -c < /mnt/server/.config/neofetch/config.conf)\r\n        echo -e \"${GREEN}   File size: ${FILE_SIZE} bytes${NC}\"\r\n    else\r\n        echo -e \"${RED}âœ— Config file is empty!${NC}\"\r\n    fi\r\nelse\r\n    echo -e \"${RED}âœ— Failed to download XMPanels console theme${NC}\"\r\n    echo -e \"${YELLOW}   Creating default config...${NC}\"\r\n    echo 'print_info() { info title; info underline; info \"OS\" distro; info \"Kernel\" kernel; info \"Uptime\" uptime; info \"Memory\" memory; info \"CPU\" cpu; }' > /mnt/server/.config/neofetch/config.conf\r\nfi\r\n\r\n# Download run.js helper\r\necho -e \"${YELLOW}[4/7] Downloading helper scripts...${NC}\"\r\nif curl -fsSL https://raw.githubusercontent.com/Mark-HDR/info-panel/main/run.js -o run.js 2>/dev/null; then\r\n    echo -e \"${GREEN}âœ“ Helper script downloaded${NC}\"\r\nelse\r\n    echo -e \"${YELLOW}âš  Helper script not available (optional)${NC}\"\r\nfi\r\n\r\necho -e \"${YELLOW}[5/7] Setting up repository...${NC}\"\r\n\r\n# Check if user wants to upload manually\r\nif [ \"${USER_UPLOAD}\" == \"true\" ] || [ \"${USER_UPLOAD}\" == \"1\" ]; then\r\n    echo -e \"${GREEN}âœ“ Manual upload mode enabled${NC}\"\r\n    echo -e \"${BLUE}   Skipping git clone - you can upload files manually${NC}\"\r\n    exit 0\r\nfi\r\n\r\n# Add git ending if needed\r\nif [[ ${GIT_ADDRESS} != *.git ]]; then\r\n    GIT_ADDRESS=${GIT_ADDRESS}.git\r\nfi\r\n\r\n# Setup authentication\r\nif [ -z \"${USERNAME}\" ] && [ -z \"${ACCESS_TOKEN}\" ]; then\r\n    echo -e \"${BLUE}   Using anonymous git clone${NC}\"\r\nelse\r\n    GIT_ADDRESS=\"https://${USERNAME}:${ACCESS_TOKEN}@$(echo -e ${GIT_ADDRESS} | cut -d/ -f3-)\"\r\n    echo -e \"${BLUE}   Using authenticated git clone${NC}\"\r\nfi\r\n\r\n# Clone repository\r\nif [ \"$(ls -A /mnt/server | grep -v '.config')\" ]; then\r\n    echo -e \"${YELLOW}   Directory not empty, checking for git repo...${NC}\"\r\n    if [ -d .git ]; then\r\n        if [ -f .git/config ]; then\r\n            ORIGIN=$(git config --get remote.origin.url)\r\n            if [ \"${ORIGIN}\" == \"${GIT_ADDRESS}\" ]; then\r\n                echo -e \"${BLUE}   Pulling latest changes...${NC}\"\r\n                git pull\r\n                echo -e \"${GREEN}âœ“ Repository updated${NC}\"\r\n            fi\r\n        fi\r\n    fi\r\nelse\r\n    if [ ! -z \"${GIT_ADDRESS}\" ]; then\r\n        echo -e \"${BLUE}   Cloning repository...${NC}\"\r\n        if [ -z ${BRANCH} ]; then\r\n            git clone ${GIT_ADDRESS} . 2>&1 | grep -v \"Cloning into\"\r\n        else\r\n            echo -e \"${BLUE}   Branch: ${BRANCH}${NC}\"\r\n            git clone --single-branch --branch ${BRANCH} ${GIT_ADDRESS} . 2>&1 | grep -v \"Cloning into\"\r\n        fi\r\n        echo -e \"${GREEN}âœ“ Repository cloned${NC}\"\r\n    else\r\n        echo -e \"${YELLOW}   No git repository specified${NC}\"\r\n    fi\r\nfi\r\n\r\necho -e \"${YELLOW}[6/7] Installing Node.js dependencies...${NC}\"\r\nif [[ ! -z ${NODE_PACKAGES} ]]; then\r\n    echo -e \"${BLUE}   Installing: ${NODE_PACKAGES}${NC}\"\r\n    /usr/local/bin/npm install ${NODE_PACKAGES} --loglevel=error\r\nfi\r\n\r\nif [ -f /mnt/server/package.json ]; then\r\n    echo -e \"${BLUE}   Installing packages from package.json...${NC}\"\r\n    /usr/local/bin/npm install --production --loglevel=error\r\n    echo -e \"${GREEN}âœ“ Dependencies installed${NC}\"\r\nfi\r\n\r\necho -e \"${YELLOW}[7/7] Finalizing installation...${NC}\"\r\necho \"\"\r\necho -e \"${CYAN}================================================================${NC}\"\r\necho -e \"${GREEN}         âœ“ XMPanels Installation Completed Successfully!${NC}\"\r\necho -e \"${CYAN}================================================================${NC}\"\r\necho \"\"\r\necho -e \"${GREEN}âœ“ Neofetch config:${NC} ~/.config/neofetch/config.conf\"\r\necho -e \"${GREEN}âœ“ Custom theme:${NC} XMPanels style loaded\"\r\necho -e \"${GREEN}âœ“ All dependencies:${NC} Installed\"\r\necho \"\"\r\necho -e \"${YELLOW}ðŸ“Œ Next steps:${NC}\"\r\necho -e \"   1. Click the ${GREEN}START${NC} button to launch your server\"\r\necho -e \"   2. You will see the XMPanels custom console on startup\"\r\necho -e \"   3. Your bot will start automatically\"\r\necho \"\"\r\necho -e \"${CYAN}================================================================${NC}\"\r\necho -e \"${BLUE}        Powered by XMPanels - https://github.com/Galihs2${NC}\"\r\necho -e \"${CYAN}================================================================${NC}\"\r\nexit 0",
            "container": "node:lts-bullseye-slim",
            "entrypoint": "bash"
        }
    },
    "variables": [
        {
            "name": "Startup Command",
            "description": "Perintah startup untuk menjalankan bot Anda. Contoh: npm start, node index.js, pm2 start index.js",
            "env_variable": "STARTUP_CMD",
            "default_value": "npm start",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:100",
            "field_type": "text"
        },
        {
            "name": "Git Repository",
            "description": "URL repository GitHub bot WhatsApp Anda. Contoh: https://github.com/username/repo",
            "env_variable": "GIT_ADDRESS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Git Branch",
            "description": "Branch yang akan di-clone. Kosongkan untuk menggunakan branch default.",
            "env_variable": "BRANCH",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "User Upload",
            "description": "Set ke 'true' jika Anda ingin upload file manual tanpa git clone.",
            "env_variable": "USER_UPLOAD",
            "default_value": "false",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|in:true,false",
            "field_type": "text"
        },
        {
            "name": "GitHub Username",
            "description": "Username GitHub untuk private repository (opsional)",
            "env_variable": "USERNAME",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "GitHub Access Token",
            "description": "Personal Access Token untuk private repository (opsional)",
            "env_variable": "ACCESS_TOKEN",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Additional Node Packages",
            "description": "NPM packages tambahan yang ingin diinstall (pisahkan dengan spasi). Contoh: axios express",
            "env_variable": "NODE_PACKAGES",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        }
    ]
}
